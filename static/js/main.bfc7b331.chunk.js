(this["webpackJsonpcovid-app"]=this["webpackJsonpcovid-app"]||[]).push([[0],{134:function(e){e.exports=JSON.parse('{"Alaska":"Alaska_DHSS","Alabama":"alpublichealth","Arkansas":"adhpio","Arizona":"azdhs","California":"CAPublicHealth","Colorado":"cdphe","Connecticut":"ctdph","Delaware":"Delaware_DHSS","Florida":"HealthyFla","Georgia":"GaDPH","Guam":"guamdphss","Hawaii":"HawaiiDOH","Iowa":"IAPublicHealth","Idaho":"IDHW","Illinois":"IDPH","Indiana":"statehealthin","Kansas":"kdhe","Kentucky":"CHFSKy","Louisiana":"LADeptHealth","Massachusetts":"massdph","Maryland":"MDHealthDept","Maine":"mainedhhs","Michigan":"MichiganHHS","Minnesota":"mnhealth","Missouri":"HealthyLivingMo","Northern Mariana Islands":"cnmichcc","Mississippi":"msdh","Montana":"dphhsmt","North Carolina":"ncdhhs","North Dakota":"NDDOH","Nebraska":"NEDHHS","New Hampshire":"NHPubHealth","New Jersey":"NJDeptofHealth","New Mexico":"NMDOH","Nevada":"dhhsnevada","New York":"healthnygov","Ohio":"OHdeptofhealth","Oklahoma":"HealthyOklahoma","Oregon":"OHAOregon","Pennsylvania":"PAHealthDept","Puerto Rico":"DeptSaludPR","Rhode Island":"rihealth","South Carolina":"scdhec","South Dakota":"SDDOH","Tennessee":"TNDeptofHealth","Texas":"TexasDSHS","Utah":"utahdepofhealth","Virginia":"vdhgov","US Virgin Islands":"usvidoh","Vermont":"healthvermont","Washington":"WADeptHealth","Wisconsin":"DHSWI","West Virginia":"WV_DHHR","Wyoming":"health_wyoming"}')},147:function(e,t,n){},148:function(e,t,n){},149:function(e,t,n){},153:function(e,t,n){},155:function(e,t,n){},158:function(e,t,n){},159:function(e,t,n){"use strict";n.r(t);var a=n(12),s=n(7),r=n.n(s),o=n(99),c=n.n(o),i=(n(147),n(32)),l=n.n(i),u=n(60),d=n(96),h=n(38),j=(n(148),n(149),n(57)),p=n(58),b=n(79),m=n(78),f=n(166),g=n(138),v=function(e){return Object(a.jsxs)(f.a,{onSubmit:function(t){t.preventDefault(),console.log("Author: ".concat(t.target.author.value,", Comments: ").concat(t.target.textarea1.value)),e.close()},children:[Object(a.jsxs)(f.a.Group,{controlId:"author",children:[Object(a.jsx)(f.a.Label,{children:"Author:"}),Object(a.jsx)(f.a.Control,{defaultValue:"John Smith",readOnly:!0})]}),Object(a.jsxs)(f.a.Group,{controlId:"textarea1",children:[Object(a.jsx)(f.a.Label,{children:"Comment:"}),Object(a.jsx)("br",{}),Object(a.jsx)(f.a.Control,{as:"textarea",rows:10,cols:50})]}),Object(a.jsx)(g.a,{variant:"primary",type:"submit",children:"Submit"})]})},O=v,x=n(133),S=n.n(x),y=function(e){var t=e.onClickOutside,n=e.onKeyDown,s=e.modalRef,r=e.buttonRef,o=e.closeModal;e.onSubmit;return c.a.createPortal(Object(a.jsx)(S.a,{children:Object(a.jsx)("aside",{tag:"aside",role:"dialog",tabIndex:"-1","aria-modal":"true",className:"modal-cover",onClick:t,onKeyDown:n,children:Object(a.jsxs)("div",{className:"modal-area",ref:s,children:[Object(a.jsxs)("button",{ref:r,"aria-label":"Close Modal","aria-labelledby":"close-modal",className:"_modal-close",onClick:o,children:[Object(a.jsx)("span",{id:"close-modal",className:"_hide-visual",children:"Close"}),Object(a.jsx)("svg",{className:"_modal-close-icon",viewBox:"0 0 40 40",children:Object(a.jsx)("path",{d:"M 10,10 L 30,30 M 30,10 L 10,30"})})]}),Object(a.jsx)("div",{className:"modal-body",children:Object(a.jsx)(v,{close:o})})]})})}),document.body)},w=function(e){var t=e.triggerText,n=e.buttonRef,s=e.showModal;return Object(a.jsx)("button",{className:"btn btn-lg btn-danger center modal-button",ref:n,onClick:s,children:t})},k=function(e){Object(b.a)(n,e);var t=Object(m.a)(n);function n(){var e;Object(j.a)(this,n);for(var a=arguments.length,s=new Array(a),r=0;r<a;r++)s[r]=arguments[r];return(e=t.call.apply(t,[this].concat(s))).state={isShown:!1},e.showModal=function(){e.setState({isShown:!0},(function(){e.closeButton.focus()})),e.toggleScrollLock()},e.closeModal=function(){e.setState({isShown:!1}),e.TriggerButton.focus(),e.toggleScrollLock()},e.onKeyDown=function(t){27===t.keyCode&&e.closeModal()},e.onClickOutside=function(t){e.modal&&e.modal.contains(t.target)||e.closeModal()},e.toggleScrollLock=function(){document.querySelector("html").classList.toggle("scroll-lock")},e}return Object(p.a)(n,[{key:"render",value:function(){var e=this;return Object(a.jsxs)(r.a.Fragment,{children:[Object(a.jsx)(w,{showModal:this.showModal,buttonRef:function(t){return e.TriggerButton=t},triggerText:this.props.triggerText}),this.state.isShown?Object(a.jsx)(y,{onSubmit:this.props.onSubmit,modalRef:function(t){return e.modal=t},buttonRef:function(t){return e.closeButton=t},closeModal:this.closeModal,onKeyDown:this.onKeyDown,onClickOutside:this.onClickOutside}):null]})}}]),n}(s.Component),_=n(120),N=n(134);var C=function(e){var t=e.sName,n=N[t];return Object(a.jsxs)("div",{id:"StatePage-container",children:[Object(a.jsx)("div",{className:"a-api_feed_title",children:"PUBLIC COMMENT"}),Object(a.jsx)("div",{className:"a-api_feed_container"}),Object(a.jsx)("div",{className:"a-api_add_feed_button",children:Object(a.jsx)(k,{triggerText:"Open form"})}),Object(a.jsxs)("div",{className:"a-state_name_container",children:[t," Health Department Tweets"]}),Object(a.jsx)("div",{className:"a-state_info_container",children:Object(a.jsx)(_.a,{dataSource:{sourceType:"profile",screenName:n},options:{height:"800"}})})]})},D=(n(153),n(84)),H=n(101),I=n(136),M=n(139);n(155);var A=function(e){var t=Object(h.f)();return Object(s.useEffect)((function(){D.d(M.a);var n=D.b("chartdiv",H.b);n.geodata=I.a,n.projection=new H.d.AlbersUsa;var a=n.series.push(new H.c);a.heatRules.push({property:"fill",target:a.mapPolygons.template,min:n.colors.getIndex(8).brighten(3),max:n.colors.getIndex(8).brighten(-.3)}),a.useGeodata=!0,a.data=e.currentstateInfNums;var s=n.createChild(H.a);s.id="heatLegend",s.series=a,s.align="right",s.valign="bottom",s.width=D.c(35),s.marginRight=D.c(4),s.background.fill=D.a("#000"),s.background.fillOpacity=.05,s.padding(5,5,5,5),s.valueAxis.axisRanges.create().label.horizontalCenter="left",s.valueAxis.axisRanges.create().label.horizontalCenter="right",s.valueAxis.renderer.labels.template.adapter.add("text",(function(e){return""})),a.events.on("datavalidated",(function(e){var t=e.target.map.getKey("heatLegend"),n=t.series.dataItem.values.value.low,a=t.valueAxis.axisRanges.getIndex(0);a.value=n,a.label.text=""+t.numberFormatter.format(n);var s=t.series.dataItem.values.value.high,r=t.valueAxis.axisRanges.getIndex(1);r.value=s,r.label.text=""+t.numberFormatter.format(s)}));var r=a.mapPolygons.template;r.tooltipText="{name}: {value}",r.nonScalingStroke=!0,r.strokeWidth=.5,r.states.create("hover").properties.fill=D.a("#3c5bdc");r.events.on("hit",(function(n){var a;a=n.target.dataItem.dataContext.name,e.setSName(a),t.push("/state-page")}))}),[e,t]),Object(a.jsx)("div",{id:"chartdiv"})};var P=function(e){var t=e.setSName,n=e.chart,s=e.currentUSValues.map((function(e,t){return Object(a.jsxs)("div",{children:["Positive Cases: ",e.positive," Deaths: ",e.death]},t)})),r=e.currentUSValues.map((function(e,t){return Object(a.jsxs)("div",{children:["Last Updated: ",e.lastModified]},t)})),o=e.currentStateValues.map((function(e){return{id:"US-"+e.state,value:e.positive}}));return Object(a.jsxs)("div",{id:"home-container",children:[Object(a.jsx)("div",{className:"b-label-title",children:"title"}),Object(a.jsx)("div",{className:"b-updated-lable",children:r}),Object(a.jsx)("div",{className:"b-info-updater",children:s}),Object(a.jsx)("div",{className:"b-tweet-container",children:Object(a.jsx)(_.a,{dataSource:{sourceType:"profile",screenName:"CDCgov"},options:{height:"800"}})}),Object(a.jsx)("div",{className:"b-us-map",children:Object(a.jsx)(A,{map:n,setSName:t,currentstateInfNums:o})})]})},T=(n(158),n(94));var L=function(e){var t=Object(h.f)();return Object(a.jsxs)("div",{id:"nav-container",children:[Object(a.jsx)("div",{className:"sub-nav-title",children:"COVID APP"}),Object(a.jsxs)("div",{className:"sub-nav-home-button",children:[Object(a.jsx)(T.b,{to:"/",children:"HOME"}),Object(a.jsx)(g.a,{onClick:function(){t.push("/user-profile/")},children:"User Profile"})]})]})};var R=function(e){var t=Object(a.jsxs)("div",{className:"nav-login-signup",children:[Object(a.jsx)("div",{className:"sub-nav-login-button",onClick:function(){return e.display_form("login")},children:"Login"}),Object(a.jsx)("div",{className:"sub-nav-signup-button",onClick:function(){return e.display_form("signup")},children:"Signup"})]}),n=Object(a.jsx)("ul",{children:Object(a.jsx)("li",{onClick:e.handle_logout,children:"logout"})});return Object(a.jsx)("div",{children:e.logged_in?n:t})},F=n(121),U=function(e){Object(b.a)(n,e);var t=Object(m.a)(n);function n(){var e;Object(j.a)(this,n);for(var a=arguments.length,s=new Array(a),r=0;r<a;r++)s[r]=arguments[r];return(e=t.call.apply(t,[this].concat(s))).state={username:"",password:""},e.handle_change=function(t){var n=t.target.name,a=t.target.value;e.setState((function(e){var t=Object(F.a)({},e);return t[n]=a,t}))},e}return Object(p.a)(n,[{key:"render",value:function(){var e=this;return Object(a.jsxs)("form",{onSubmit:function(t){return e.props.handle_login(t,e.state)},children:[Object(a.jsx)("h4",{children:"Log In"}),Object(a.jsx)("label",{htmlFor:"username",children:"Username"}),Object(a.jsx)("input",{type:"text",name:"username",value:this.state.username,onChange:this.handle_change}),Object(a.jsx)("label",{htmlFor:"password",children:"Password"}),Object(a.jsx)("input",{type:"password",name:"password",value:this.state.password,onChange:this.handle_change}),Object(a.jsx)("input",{type:"submit"})]})}}]),n}(r.a.Component),V=function(e){Object(b.a)(n,e);var t=Object(m.a)(n);function n(){var e;Object(j.a)(this,n);for(var a=arguments.length,s=new Array(a),r=0;r<a;r++)s[r]=arguments[r];return(e=t.call.apply(t,[this].concat(s))).state={username:"",password:""},e.handle_change=function(t){var n=t.target.name,a=t.target.value;e.setState((function(e){var t=Object(F.a)({},e);return t[n]=a,t}))},e}return Object(p.a)(n,[{key:"render",value:function(){var e=this;return console.log("sign up form is called"),Object(a.jsxs)("form",{onSubmit:function(t){return e.props.handle_signup(t,e.state)},children:[Object(a.jsx)("h4",{children:"Sign Up"}),Object(a.jsx)("label",{htmlFor:"username",children:"Username"}),Object(a.jsx)("input",{type:"text",name:"username",value:this.state.username,onChange:this.handle_change}),Object(a.jsx)("label",{htmlFor:"password",children:"Password"}),Object(a.jsx)("input",{type:"password",name:"password",value:this.state.password,onChange:this.handle_change}),Object(a.jsx)("input",{type:"submit"})]})}}]),n}(r.a.Component),W="https://pt-alpha-final-project.herokuapp.com/",J=function(e){Object(b.a)(n,e);var t=Object(m.a)(n);function n(e){var a;return Object(j.a)(this,n),(a=t.call(this,e)).handle_login=function(e,t){e.preventDefault(),fetch("".concat(W,"token-auth/"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)}).then((function(e){return e.json()})).then((function(e){localStorage.setItem("token",e.token),a.setState({logged_in:!0,displayed_form:"",username:e.user.username}),localStorage.setItem("username",e.user.username)}))},a.handle_signup=function(e,t){e.preventDefault(),fetch("".concat(W,"covid/users/"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)}).then((function(e){return e.json()})).then((function(e){localStorage.setItem("token",e.token),a.setState({logged_in:!0,displayed_form:"",username:e.username})}))},a.handle_logout=function(){localStorage.removeItem("token"),a.setState({logged_in:!1,username:""})},a.display_form=function(e){a.setState({displayed_form:e})},a.state={displayed_form:"",logged_in:!!localStorage.getItem("token"),username:""},a}return Object(p.a)(n,[{key:"componentDidMount",value:function(){var e=this;this.state.logged_in&&fetch("".concat(W,"/covid/current_user/"),{headers:{Authorization:"JWT ".concat(localStorage.getItem("token"))}}).then((function(e){return e.json()})).then((function(t){e.setState({username:t.username})}))}},{key:"render",value:function(){var e;switch(this.state.displayed_form){case"login":e=Object(a.jsx)(U,{handle_login:this.handle_login});break;case"signup":e=Object(a.jsx)(V,{handle_signup:this.handle_signup});break;default:e=null}return Object(a.jsxs)("div",{children:[Object(a.jsx)(R,{logged_in:this.state.logged_in,display_form:this.display_form,handle_logout:this.handle_logout}),e,Object(a.jsx)("h3",{children:this.state.logged_in?"Hello, ".concat(this.state.username):""})]})}}]),n}(r.a.Component),K="https://pt-alpha-final-project.herokuapp.com/",B=function(e){var t=Object(s.useState)(null),n=Object(d.a)(t,2),r=n[0],o=n[1];console.log("user profile compnent is called");var c=localStorage.getItem("token"),i=localStorage.getItem("username");return Object(s.useEffect)((function(){(function(e,t){return fetch("".concat(K,'posts?filter={"where":{"author":"').concat(t,'"}}'),{method:"get",headers:{"Content-Type":"application/json",Accept:"application/json",Authorization:"JWT "+e}}).then((function(e){return e.json()}))})(c,i).then((function(e){return o(e)}))}),[c,i]),Object(a.jsxs)("div",{children:[Object(a.jsxs)("h1",{children:["All Posts from author: ",i]}),Object(a.jsx)("ul",{children:r&&r.map((function(e){return Object(a.jsxs)("li",{children:[Object(a.jsxs)("h1",{children:["Post Title: ",e.title]}),Object(a.jsxs)("h2",{children:["Post Description ",e.description]})]},e.id)}))})]})},E="https://api.covidtracking.com",z=function(){var e=Object(u.a)(l.a.mark((function e(){var t,n;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("".concat(E).concat("/v1/us/current.json"));case 3:return t=e.sent,e.next=6,t.json();case 6:return n=e.sent,e.abrupt("return",n);case 10:e.prev=10,e.t0=e.catch(0),console.log(e.t0);case 13:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(){return e.apply(this,arguments)}}(),G=function(){var e=Object(u.a)(l.a.mark((function e(){var t,n;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("".concat(E).concat("/v1/states/current.json"));case 3:return t=e.sent,e.next=6,t.json();case 6:return n=e.sent,e.abrupt("return",n);case 10:e.prev=10,e.t0=e.catch(0),console.log(e.t0);case 13:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(){return e.apply(this,arguments)}}();var q=function(e){var t=Object(s.useState)(""),n=Object(d.a)(t,2),o=n[0],c=n[1],i=Object(s.useState)([]),j=Object(d.a)(i,2),p=j[0],b=j[1],m=Object(s.useState)([]),f=Object(d.a)(m,2),g=f[0],v=f[1];return r.a.useEffect((function(){function e(){return(e=Object(u.a)(l.a.mark((function e(){var t;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,z();case 2:t=e.sent,b(t);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[]),r.a.useEffect((function(){function e(){return(e=Object(u.a)(l.a.mark((function e(){var t;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,G();case 2:t=e.sent,v(t);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[]),Object(a.jsxs)("div",{id:"app-container",children:[Object(a.jsxs)("div",{className:"nav-bar",children:[Object(a.jsx)(J,{}),Object(a.jsx)(L,{})]}),Object(a.jsx)("div",{className:"body-container",children:Object(a.jsxs)(h.c,{children:[Object(a.jsx)(h.a,{exact:!0,path:"/",render:function(e){return Object(a.jsx)(P,{setSName:c,currentUSValues:p,currentStateValues:g})}}),Object(a.jsx)(h.a,{exact:!0,path:"/state-page",render:function(e){return Object(a.jsx)(C,{sName:o})}}),Object(a.jsx)(h.a,{exact:!0,path:"/add-comments",component:O}),Object(a.jsx)(h.a,{exact:!0,path:"/user-profile",component:B})]})})]})},Y=function(e){e&&e instanceof Function&&n.e(7).then(n.bind(null,367)).then((function(t){var n=t.getCLS,a=t.getFID,s=t.getFCP,r=t.getLCP,o=t.getTTFB;n(e),a(e),s(e),r(e),o(e)}))};c.a.render(Object(a.jsx)(r.a.StrictMode,{children:Object(a.jsx)(T.a,{basename:"/",children:Object(a.jsx)(q,{})})}),document.getElementById("root")),Y()}},[[159,1,4]]]);
//# sourceMappingURL=main.bfc7b331.chunk.js.map