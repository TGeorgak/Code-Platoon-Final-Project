(this["webpackJsonpcovid-app"]=this["webpackJsonpcovid-app"]||[]).push([[0],{178:function(e){e.exports=JSON.parse('{"Alaska":"Alaska_DHSS","Alabama":"alpublichealth","Arkansas":"adhpio","Arizona":"azdhs","California":"CAPublicHealth","Colorado":"cdphe","Connecticut":"ctdph","Delaware":"Delaware_DHSS","Florida":"HealthyFla","Georgia":"GaDPH","Guam":"guamdphss","Hawaii":"HawaiiDOH","Iowa":"IAPublicHealth","Idaho":"IDHW","Illinois":"IDPH","Indiana":"statehealthin","Kansas":"kdhe","Kentucky":"CHFSKy","Louisiana":"LADeptHealth","Massachusetts":"massdph","Maryland":"MDHealthDept","Maine":"mainedhhs","Michigan":"MichiganHHS","Minnesota":"mnhealth","Missouri":"HealthyLivingMo","Northern Mariana Islands":"cnmichcc","Mississippi":"msdh","Montana":"dphhsmt","North Carolina":"ncdhhs","North Dakota":"NDDOH","Nebraska":"NEDHHS","New Hampshire":"NHPubHealth","New Jersey":"NJDeptofHealth","New Mexico":"NMDOH","Nevada":"dhhsnevada","New York":"healthnygov","Ohio":"OHdeptofhealth","Oklahoma":"HealthyOklahoma","Oregon":"OHAOregon","Pennsylvania":"PAHealthDept","Puerto Rico":"DeptSaludPR","Rhode Island":"rihealth","South Carolina":"scdhec","South Dakota":"SDDOH","Tennessee":"TNDeptofHealth","Texas":"TexasDSHS","Utah":"utahdepofhealth","Virginia":"vdhgov","US Virgin Islands":"usvidoh","Vermont":"healthvermont","Washington":"WADeptHealth","Wisconsin":"DHSWI","West Virginia":"WV_DHHR","Wyoming":"health_wyoming"}')},179:function(e){e.exports=JSON.parse('{"Alabama":"AL","Alaska":"AK","American Samoa":"AS","Arizona":"AZ","Arkansas":"AR","California":"CA","Colorado":"CO","Connecticut":"CT","Delaware":"DE","District Of Columbia":"DC","Federated States Of Micronesia":"FM","Florida":"FL","Georgia":"GA","Guam":"GU","Hawaii":"HI","Idaho":"ID","Illinois":"IL","Indiana":"IN","Iowa":"IA","Kansas":"KS","Kentucky":"KY","Louisiana":"LA","Maine":"ME","Marshall Islands":"MH","Maryland":"MD","Massachusetts":"MA","Michigan":"MI","Minnesota":"MN","Mississippi":"MS","Missouri":"MO","Montana":"MT","Nebraska":"NE","Nevada":"NV","New Hampshire":"NH","New Jersey":"NJ","New Mexico":"NM","New York":"NY","North Carolina":"NC","North Dakota":"ND","Northern Mariana Islands":"MP","Ohio":"OH","Oklahoma":"OK","Oregon":"OR","Palau":"PW","Pennsylvania":"PA","Puerto Rico":"PR","Rhode Island":"RI","South Carolina":"SC","South Dakota":"SD","Tennessee":"TN","Texas":"TX","Utah":"UT","Vermont":"VT","Virgin Islands":"VI","Virginia":"VA","Washington":"WA","West Virginia":"WV","Wisconsin":"WI","Wyoming":"WY"}')},192:function(e,t,a){},193:function(e,t,a){},194:function(e,t,a){},198:function(e,t,a){},200:function(e,t,a){},203:function(e,t,a){},205:function(e,t,a){},206:function(e,t,a){},207:function(e,t,a){"use strict";a.r(t);var n=a(9),s=a(10),r=a.n(s),c=a(129),i=a.n(c),o=(a(192),a(36)),l=a.n(o),d=a(62),h=a(95),u=a(45),j=(a(193),a(194),a(72)),b=a(73),p=a(106),m=a(105),x=a(216),f=a(183),O=function(e){return Object(n.jsxs)(x.a,{onSubmit:function(t){t.preventDefault(),console.log("Author: ".concat(t.target.author.value,", Comments: ").concat(t.target.textarea1.value)),e.close()},children:[Object(n.jsxs)(x.a.Group,{controlId:"author",children:[Object(n.jsx)(x.a.Label,{children:"Author:"}),Object(n.jsx)(x.a.Control,{defaultValue:"John Smith",readOnly:!0})]}),Object(n.jsxs)(x.a.Group,{controlId:"textarea1",children:[Object(n.jsx)(x.a.Label,{children:"Comment:"}),Object(n.jsx)("br",{}),Object(n.jsx)(x.a.Control,{as:"textarea",rows:10,cols:50})]}),Object(n.jsx)(f.a,{variant:"primary",type:"submit",children:"Submit"})]})},g=O,v=a(177),N=a.n(v),w=function(e){var t=e.onClickOutside,a=e.onKeyDown,s=e.modalRef,r=e.buttonRef,c=e.closeModal;e.onSubmit;return i.a.createPortal(Object(n.jsx)(N.a,{children:Object(n.jsx)("aside",{tag:"aside",role:"dialog",tabIndex:"-1","aria-modal":"true",className:"modal-cover",onClick:t,onKeyDown:a,children:Object(n.jsxs)("div",{className:"modal-area",ref:s,children:[Object(n.jsxs)("button",{ref:r,"aria-label":"Close Modal","aria-labelledby":"close-modal",className:"_modal-close",onClick:c,children:[Object(n.jsx)("span",{id:"close-modal",className:"_hide-visual",children:"Close"}),Object(n.jsx)("svg",{className:"_modal-close-icon",viewBox:"0 0 40 40",children:Object(n.jsx)("path",{d:"M 10,10 L 30,30 M 30,10 L 10,30"})})]}),Object(n.jsx)("div",{className:"modal-body",children:Object(n.jsx)(O,{close:c})})]})})}),document.body)},y=a(217),S=function(e){var t=e.triggerText,a=e.buttonRef,s=e.showModal;return Object(n.jsx)(y.a,{size:"sm",color:"primary",ref:a,onClick:s,children:t})},k=function(e){Object(p.a)(a,e);var t=Object(m.a)(a);function a(){var e;Object(j.a)(this,a);for(var n=arguments.length,s=new Array(n),r=0;r<n;r++)s[r]=arguments[r];return(e=t.call.apply(t,[this].concat(s))).state={isShown:!1},e.showModal=function(){e.setState({isShown:!0},(function(){e.closeButton.focus()})),e.toggleScrollLock()},e.closeModal=function(){e.setState({isShown:!1}),e.toggleScrollLock()},e.onKeyDown=function(t){27===t.keyCode&&e.closeModal()},e.onClickOutside=function(t){e.modal&&e.modal.contains(t.target)||e.closeModal()},e.toggleScrollLock=function(){document.querySelector("html").classList.toggle("scroll-lock")},e}return Object(b.a)(a,[{key:"render",value:function(){var e=this;return Object(n.jsxs)(r.a.Fragment,{children:[Object(n.jsx)(S,{showModal:this.showModal,buttonRef:function(t){return e.TriggerButton=t},triggerText:this.props.triggerText}),this.state.isShown?Object(n.jsx)(w,{onSubmit:this.props.onSubmit,modalRef:function(t){return e.modal=t},buttonRef:function(t){return e.closeButton=t},closeModal:this.closeModal,onKeyDown:this.onKeyDown,onClickOutside:this.onClickOutside}):null]})}}]),a}(s.Component),I=a(163),C=a(178),D=a(179),_="https://api.covidtracking.com",M=function(){var e=Object(d.a)(l.a.mark((function e(){var t,a;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("".concat(_).concat("/v1/us/daily.json"));case 3:return t=e.sent,e.next=6,t.json();case 6:return a=e.sent,e.abrupt("return",a);case 10:e.prev=10,e.t0=e.catch(0),console.log(e.t0);case 13:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(){return e.apply(this,arguments)}}(),H=function(){var e=Object(d.a)(l.a.mark((function e(){var t,a;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("".concat(_).concat("/v1/us/current.json"));case 3:return t=e.sent,e.next=6,t.json();case 6:return a=e.sent,e.abrupt("return",a);case 10:e.prev=10,e.t0=e.catch(0),console.log(e.t0);case 13:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(){return e.apply(this,arguments)}}(),A=function(){var e=Object(d.a)(l.a.mark((function e(t){var a,n,s;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a="/v1/states/".concat(t,"/info.json"),e.prev=1,e.next=4,fetch("".concat(_).concat(a));case 4:return n=e.sent,e.next=7,n.json();case 7:return s=e.sent,e.abrupt("return",s);case 11:e.prev=11,e.t0=e.catch(1),console.log(e.t0);case 14:case"end":return e.stop()}}),e,null,[[1,11]])})));return function(t){return e.apply(this,arguments)}}(),T=function(){var e=Object(d.a)(l.a.mark((function e(){var t,a;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("".concat(_).concat("/v1/states/current.json"));case 3:return t=e.sent,e.next=6,t.json();case 6:return a=e.sent,e.abrupt("return",a);case 10:e.prev=10,e.t0=e.catch(0),console.log(e.t0);case 13:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(){return e.apply(this,arguments)}}(),P=a(214),z=a(215);var F=function(e){var t=e.sName,a=sessionStorage.getItem("stateName"),c=C[a],i=Object(s.useState)([]),o=Object(h.a)(i,2),u=o[0],j=o[1],b=D[a];r.a.useEffect((function(){function e(){return(e=Object(d.a)(l.a.mark((function e(){var t;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,A(b);case 2:t=e.sent,j(t);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[b]);var p=Object(n.jsx)("a",{href:u.covid19Site,target:"_blank",rel:"noreferrer",children:"Visit State Website"});return Object(n.jsxs)("div",{id:"StatePage-container",children:[Object(n.jsx)("div",{className:"a-api_feed_container",children:Object(n.jsx)(s.Fragment,{children:Object(n.jsxs)(P.a,{className:"card-box mb-5",children:[Object(n.jsxs)("div",{className:"card-header pr-2",children:[Object(n.jsx)("div",{className:"text-uppercase card-header--title",children:"Insight from Locals"}),Object(n.jsx)("div",{className:"card-header--actions"})]}),Object(n.jsx)(z.a,{children:Object(n.jsx)("div",{className:"table-responsive-md",children:"Nothing to show - Be the first to add a comment!"})}),Object(n.jsx)("div",{className:"card-footer d-flex justify-content-between",children:Object(n.jsx)("div",{className:"a-api_add_feed_button",children:Object(n.jsx)(k,{triggerText:"Add Comment"})})})]})})}),Object(n.jsx)("div",{className:"a-state_info_container",children:Object(n.jsx)(s.Fragment,{children:Object(n.jsxs)(P.a,{className:"card-box mb-5",children:[Object(n.jsxs)("div",{className:"card-header d-block",children:[Object(n.jsxs)("span",{className:"text-uppercase py-3 py-xl-4 text-black d-block text-center font-weight-bold font-size-lg",children:[t," Health Department"]}),Object(n.jsx)("div",{className:"text-center",children:p})]}),Object(n.jsx)(z.a,{children:Object(n.jsx)(I.a,{dataSource:{sourceType:"profile",screenName:c},options:{height:"800"}})})]})})})]})},R=(a(198),a(68)),V=a(134),W=a(181),L=a(164);a(200);var U=function(e){var t=Object(u.f)();return Object(s.useEffect)((function(){R.h(L.a);var a=R.e("chartdiv",V.b);a.geodata=W.a,a.projection=new V.d.AlbersUsa;var n=a.series.push(new V.c);n.heatRules.push({property:"fill",target:n.mapPolygons.template,min:a.colors.getIndex(8).brighten(3),max:a.colors.getIndex(8).brighten(-.3)}),n.useGeodata=!0,n.data=e.currentstateInfNums;var s=a.createChild(V.a);s.id="heatLegend",s.series=n,s.align="right",s.valign="bottom",s.width=R.g(35),s.marginRight=R.g(4),s.background.fill=R.d("#000"),s.background.fillOpacity=.05,s.padding(5,5,5,5),s.valueAxis.axisRanges.create().label.horizontalCenter="left",s.valueAxis.axisRanges.create().label.horizontalCenter="right",s.valueAxis.renderer.labels.template.adapter.add("text",(function(e){return""})),n.events.on("datavalidated",(function(e){var t=e.target.map.getKey("heatLegend"),a=t.series.dataItem.values.value.low,n=t.valueAxis.axisRanges.getIndex(0);n.value=a,n.label.text=""+t.numberFormatter.format(a);var s=t.series.dataItem.values.value.high,r=t.valueAxis.axisRanges.getIndex(1);r.value=s,r.label.text=""+t.numberFormatter.format(s)}));var r=n.mapPolygons.template;r.tooltipText="{name}\n\nCases: {value} +{positiveIncrease}\nDeaths: {deaths} +{deathIncrease}\nHospitalized: {hospitalizedCurrently} +{hospitalizedIncrease}\nTests: {totalTests} +{totalTestResultsIncrease}",r.nonScalingStroke=!0,r.strokeWidth=.5,r.states.create("hover").properties.fill=R.d("#3c5bdc");r.events.on("hit",(function(a){var n;n=a.target.dataItem.dataContext.name,e.setSName(n),t.push("/state-page"),sessionStorage.setItem("stateName",n)}))}),[e,t]),Object(n.jsx)("div",{id:"chartdiv"})},K=a(89);a(203);var E=function(e){R.f.autoDispose=!0;var t=e.historicUSValues.map((function(e){return{date:new Date(e.dateChecked),Cases:e.positiveIncrease,Deaths:e.deathIncrease,Hospitalized:e.hospitalizedIncrease}}));R.h(L.a);var a=R.e("linechartdiv",K.g);function s(e,t,n,s){var r=a.yAxes.push(new K.f);0!==a.yAxes.indexOf(r)&&(r.syncWithAxis=a.yAxes.getIndex(0));var c=a.series.push(new K.e);c.dataFields.valueY=e,c.dataFields.dateX="date",c.strokeWidth=2,c.yAxis=r,c.name=t,c.tooltipText="{name}: [bold]{valueY}[/]",c.tensionX=.8,c.showOnInit=!0;var i=new R.a;switch(s){case"triangle":var o=c.bullets.push(new K.a);o.width=12,o.height=12,o.horizontalCenter="middle",o.verticalCenter="middle";var l=o.createChild(R.c);l.stroke=i.getFor("background"),l.strokeWidth=2,l.direction="top",l.width=12,l.height=12;break;case"rectangle":var d=c.bullets.push(new K.a);d.width=10,d.height=10,d.horizontalCenter="middle",d.verticalCenter="middle";var h=d.createChild(R.b);h.stroke=i.getFor("background"),h.strokeWidth=2,h.width=10,h.height=10;break;default:var u=c.bullets.push(new K.b);u.circle.stroke=i.getFor("background"),u.circle.strokeWidth=2}r.renderer.line.strokeOpacity=1,r.renderer.line.strokeWidth=2,r.renderer.line.stroke=c.stroke,r.renderer.labels.template.fill=c.stroke,r.renderer.opposite=n}return a.colors.step=2,a.data=t,a.xAxes.push(new K.c).renderer.minGridDistance=50,s("Cases","Cases",!1,"circle"),s("Deaths","Deaths",!0,"triangle"),s("Hospitalized","Hospitalized",!0,"rectangle"),a.legend=new K.d,a.cursor=new K.h,Object(n.jsx)("div",{id:"linechartdiv"})},G=a(133);var J=function(e){var t=e.setSName,a=e.chart,r=function(e){var t=new Date(e);return new Intl.DateTimeFormat("en-US",{dateStyle:"full",timeStyle:"long"}).format(t)},c=function(e){return(new Intl.NumberFormat).format(e)},i=e.currentUSValues.map((function(e,t){return Object(n.jsxs)("div",{className:"d-flex flex-row flex-wrap justify-content-center",children:[Object(n.jsx)("div",{className:"position-relative px-5 py-3",children:Object(n.jsx)(P.a,{className:"card-box bg-premium-dark border-0 text-light mb-5",children:Object(n.jsxs)(z.a,{className:"b-info-card",children:[Object(n.jsx)("div",{className:"d-flex align-items-start",children:Object(n.jsxs)("div",{className:"font-weight-bold",children:[Object(n.jsx)("small",{className:"text-white-50 d-block mb-1 text-uppercase",children:"Positive Cases"}),Object(n.jsx)("span",{className:"font-size-xxl mt-1",children:c(e.positive)})]})}),Object(n.jsxs)("div",{className:"mt-3",children:[Object(n.jsx)(G.a,{icon:["fas","arrow-up"],className:"text-success mr-1"}),Object(n.jsx)("span",{className:"text-success pr-1",children:c(e.positiveIncrease)}),Object(n.jsx)("span",{className:"text-white-50",children:"today"})]})]})})}),Object(n.jsx)("div",{className:"position-relative px-5 py-3",children:Object(n.jsx)(P.a,{className:"card-box bg-midnight-bloom text-light mb-5",children:Object(n.jsxs)(z.a,{className:"b-info-card",children:[Object(n.jsx)("div",{className:"d-flex align-items-start",children:Object(n.jsxs)("div",{className:"font-weight-bold",children:[Object(n.jsx)("small",{className:"text-white-50 d-block mb-1 text-uppercase",children:"Deaths"}),Object(n.jsx)("span",{className:"font-size-xxl mt-1",children:c(e.death)})]})}),Object(n.jsxs)("div",{className:"mt-3",children:[Object(n.jsx)(G.a,{icon:["fas","arrow-up"],className:"text-success mr-1"}),Object(n.jsx)("span",{className:"text-success pr-1",children:c(e.deathIncrease)}),Object(n.jsx)("span",{className:"text-white-50",children:"today"})]})]})})}),Object(n.jsx)("div",{className:"position-relative px-5 py-3",children:Object(n.jsx)(P.a,{className:"card-box bg-plum-plate text-light mb-5",children:Object(n.jsxs)(z.a,{className:"b-info-card",children:[Object(n.jsx)("div",{className:"d-flex align-items-start",children:Object(n.jsxs)("div",{className:"font-weight-bold",children:[Object(n.jsx)("small",{className:"text-white-50 d-block mb-1 text-uppercase",children:"Hospitalized"}),Object(n.jsx)("span",{className:"font-size-xxl mt-1",children:c(e.hospitalizedCurrently)})]})}),Object(n.jsxs)("div",{className:"mt-3",children:[Object(n.jsx)(G.a,{icon:["fas","arrow-up"],className:"text-success mr-1"}),Object(n.jsx)("span",{className:"text-success pr-1",children:c(e.hospitalizedCurrently)}),Object(n.jsx)("span",{className:"text-white-50",children:"today"})]})]})})}),Object(n.jsx)("div",{className:"position-relative px-5 py-3",children:Object(n.jsx)(P.a,{className:"card-box bg-vicious-stance text-light mb-5",children:Object(n.jsxs)(z.a,{className:"b-info-card",children:[Object(n.jsx)("div",{className:"d-flex align-items-start",children:Object(n.jsxs)("div",{className:"font-weight-bold",children:[Object(n.jsx)("small",{className:"text-white-50 d-block mb-1 text-uppercase",children:"Total Tests"}),Object(n.jsx)("span",{className:"font-size-xxl mt-1",children:c(e.totalTestResults)})]})}),Object(n.jsxs)("div",{className:"mt-3",children:[Object(n.jsx)(G.a,{icon:["fas","arrow-up"],className:"text-success mr-1"}),Object(n.jsx)("span",{className:"text-success pr-1",children:c(e.totalTestResultsIncrease)}),Object(n.jsx)("span",{className:"text-white-50",children:"today"})]})]})})})]})})),o=e.currentUSValues.map((function(e,t){return Object(n.jsxs)("div",{children:["Last Updated: ",r(e.lastModified)]},t)})),l=e.currentStateValues.map((function(e){return{id:"US-"+e.state,value:e.positive,deaths:e.death,hospitalizedCurrently:e.hospitalizedCurrently,hospitalizedCumulative:e.hospitalizedCumulative,totalTests:e.totalTestResults,positiveIncrease:e.positiveIncrease,deathIncrease:e.deathIncrease,hospitalizedIncrease:e.hospitalizedIncrease,totalTestResultsIncrease:e.totalTestResultsIncrease}}));return Object(n.jsxs)("div",{id:"home-container",children:[Object(n.jsx)("div",{className:"b-label-title",children:Object(n.jsx)("div",{className:"app-page-title",children:Object(n.jsx)("div",{className:"app-page-title--first",children:Object(n.jsxs)("div",{className:"app-page-title--heading",children:[Object(n.jsx)("h1",{children:"National COVID-19 Information"}),Object(n.jsx)("div",{className:"app-page-title--description",children:"Traveling soon? Get informed with national and state information."})]})})})}),Object(n.jsx)("div",{className:"b-updated-lable",children:Object(n.jsx)("div",{className:"app-page-title--description text-right",children:o})}),Object(n.jsx)("div",{className:"b-info-updater",children:i}),Object(n.jsx)("div",{className:"b-tweet-container",children:Object(n.jsx)(s.Fragment,{children:Object(n.jsx)(P.a,{className:"card-box mb-5",children:Object(n.jsx)(z.a,{children:Object(n.jsx)(I.a,{dataSource:{sourceType:"profile",screenName:"CDCgov"},options:{height:"1000"}})})})})}),Object(n.jsxs)("div",{className:"b-us-map",children:[Object(n.jsx)(s.Fragment,{children:Object(n.jsx)(P.a,{className:"card-box mb-5 p-3 text-center",children:Object(n.jsxs)("div",{className:"my-3",children:[Object(n.jsx)("h6",{className:"font-weight-bold font-size-lg mb-1 text-black",children:"Hot Spot Map"}),Object(n.jsx)("p",{className:"text-black-50 mb-0",children:"Zoom and click on a state for more information."}),Object(n.jsx)(U,{map:a,setSName:t,currentstateInfNums:l})]})})}),Object(n.jsx)(s.Fragment,{children:Object(n.jsx)(P.a,{className:"card-box mb-5 p-3 text-center",children:Object(n.jsxs)("div",{className:"my-3",children:[Object(n.jsx)("h6",{className:"font-weight-bold font-size-lg mb-1 text-black",children:"Historic Values"}),Object(n.jsx)("div",{className:"home-page-line-chart",children:Object(n.jsx)(E,{historicUSValues:e.historicUSValues})})]})})})]})]})},B=(a(205),a(124));var Y=function(e){var t=Object(u.f)();return Object(n.jsxs)("div",{id:"nav-container",children:[Object(n.jsx)("div",{className:"sub-nav-title",children:"COVID APP"}),Object(n.jsxs)("div",{className:"sub-nav-home-button",children:[Object(n.jsx)(B.b,{to:"/",children:"HOME"}),Object(n.jsx)(f.a,{onClick:function(){t.push("/user-profile/")},children:"User Profile"})]})]})};var X=function(e){var t=Object(n.jsxs)("div",{className:"nav-login-signup",children:[Object(n.jsx)("div",{className:"sub-nav-login-button",onClick:function(){return e.display_form("login")},children:"Login"}),Object(n.jsx)("div",{className:"sub-nav-signup-button",onClick:function(){return e.display_form("signup")},children:"Signup"})]}),a=Object(n.jsx)("ul",{children:Object(n.jsx)("li",{onClick:e.handle_logout,children:"logout"})});return Object(n.jsx)("div",{children:e.logged_in?a:t})},q=a(162),Z=function(e){Object(p.a)(a,e);var t=Object(m.a)(a);function a(){var e;Object(j.a)(this,a);for(var n=arguments.length,s=new Array(n),r=0;r<n;r++)s[r]=arguments[r];return(e=t.call.apply(t,[this].concat(s))).state={username:"",password:""},e.handle_change=function(t){var a=t.target.name,n=t.target.value;e.setState((function(e){var t=Object(q.a)({},e);return t[a]=n,t}))},e}return Object(b.a)(a,[{key:"render",value:function(){var e=this;return Object(n.jsxs)("form",{onSubmit:function(t){return e.props.handle_login(t,e.state)},children:[Object(n.jsx)("h4",{children:"Log In"}),Object(n.jsx)("label",{htmlFor:"username",children:"Username"}),Object(n.jsx)("input",{type:"text",name:"username",value:this.state.username,onChange:this.handle_change}),Object(n.jsx)("label",{htmlFor:"password",children:"Password"}),Object(n.jsx)("input",{type:"password",name:"password",value:this.state.password,onChange:this.handle_change}),Object(n.jsx)("input",{type:"submit"}),this.props.invalid_credentials_warning?Object(n.jsx)("span",{className:"invalid-credentials-warning",children:"Invalid credentials. Please try again."}):Object(n.jsx)("br",{})]})}}]),a}(r.a.Component),Q=function(e){Object(p.a)(a,e);var t=Object(m.a)(a);function a(){var e;Object(j.a)(this,a);for(var n=arguments.length,s=new Array(n),r=0;r<n;r++)s[r]=arguments[r];return(e=t.call.apply(t,[this].concat(s))).state={username:"",password:""},e.handle_change=function(t){var a=t.target.name,n=t.target.value;e.setState((function(e){var t=Object(q.a)({},e);return t[a]=n,t}))},e}return Object(b.a)(a,[{key:"render",value:function(){var e=this;return console.log("sign up form is called"),Object(n.jsxs)("form",{onSubmit:function(t){return e.props.handle_signup(t,e.state)},children:[Object(n.jsx)("h4",{children:"Sign Up"}),Object(n.jsx)("label",{htmlFor:"username",children:"Username"}),Object(n.jsx)("input",{type:"text",name:"username",value:this.state.username,onChange:this.handle_change}),Object(n.jsx)("label",{htmlFor:"password",children:"Password"}),Object(n.jsx)("input",{type:"password",name:"password",value:this.state.password,onChange:this.handle_change}),Object(n.jsx)("input",{type:"submit"})]})}}]),a}(r.a.Component),$="https://pt-alpha-final-project.herokuapp.com/",ee=function(e){Object(p.a)(a,e);var t=Object(m.a)(a);function a(e){var n;return Object(j.a)(this,a),(n=t.call(this,e)).handle_login=function(e,t){e.preventDefault(),fetch("".concat($,"token-auth/"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)}).then((function(e){if(!(e.status>=400))return e.json();console.log("400 error"),n.setState({logged_in:!1,invalid_credentials_warning:!0})})).then((function(e){var t=e.user.username,a=e.token;localStorage.setItem("token",a),n.setState({logged_in:!0,displayed_form:"",username:t,invalid_credentials_warning:!1}),localStorage.setItem("username",e.user.username)}))},n.handle_signup=function(e,t){e.preventDefault(),fetch("".concat($,"covid/users/"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)}).then((function(e){return e.json()})).then((function(e){localStorage.setItem("token",e.token),localStorage.setItem("username",e.username),n.setState({logged_in:!0,displayed_form:"",username:e.username})}))},n.handle_logout=function(){localStorage.removeItem("token"),localStorage.removeItem("username"),n.setState({logged_in:!1,username:""})},n.display_form=function(e){n.setState({displayed_form:e})},n.state={displayed_form:"",logged_in:!!localStorage.getItem("token"),username:"",invalid_credentials_warning:!1},n}return Object(b.a)(a,[{key:"componentDidMount",value:function(){this.setState({username:localStorage.getItem("username")})}},{key:"render",value:function(){var e;switch(this.state.displayed_form){case"login":e=Object(n.jsx)(Z,{handle_login:this.handle_login,invalid_credentials_warning:this.state.invalid_credentials_warning});break;case"signup":e=Object(n.jsx)(Q,{handle_signup:this.handle_signup});break;default:e=null}return Object(n.jsxs)("div",{children:[Object(n.jsx)(X,{logged_in:this.state.logged_in,display_form:this.display_form,handle_logout:this.handle_logout}),e,Object(n.jsx)("h3",{children:this.state.logged_in?"Hello, ".concat(this.state.username):""})]})}}]),a}(r.a.Component),te="https://pt-alpha-final-project.herokuapp.com/",ae=function(e){var t=Object(s.useState)(null),a=Object(h.a)(t,2),r=a[0],c=a[1];console.log("user profile compnent is called");var i=localStorage.getItem("token"),o=localStorage.getItem("username");return Object(s.useEffect)((function(){(function(e,t){return fetch("".concat(te,'posts?filter={"where":{"author":"').concat(t,'"}}'),{method:"get",headers:{"Content-Type":"application/json",Accept:"application/json",Authorization:"JWT "+e}}).then((function(e){return e.json()}))})(i,o).then((function(e){return c(e)}))}),[i,o]),Object(n.jsxs)("div",{children:[Object(n.jsxs)("h1",{children:["All Posts from author: ",o]}),Object(n.jsx)("ul",{children:r&&r.map((function(e){return Object(n.jsxs)("li",{children:[Object(n.jsxs)("h1",{children:["Post Title: ",e.title]}),Object(n.jsxs)("h2",{children:["Post Description ",e.description]})]},e.id)}))})]})},ne=(a(206),a(113)),se=a(63),re=a(32),ce=a(25);ne.b.add(re.L,re.F,re.A,re.f,re.H,re.j,re.G,re.i,re.w,re.I,re.r,re.n,re.h,re.v,re.z,re.d,re.k,re.a,re.C,re.D,re.y,re.J,re.B,re.x,re.g,re.K,re.E,re.c,re.b,re.q,re.o,re.t,re.u,re.s,re.p,re.m,re.l,re.e),ne.b.add(se.n,se.c,se.k,se.l,se.i,se.f,se.e,se.g,se.h,se.m,se.a,se.j,se.b,se.d),ne.b.add(ce.lb,ce.c,ce.b,ce.cb,ce.I,ce.o,ce.p,ce.y,ce.ab,ce.S,ce.M,ce.hb,ce.a,ce.F,ce.Y,ce.J,ce.fb,ce.T,ce.eb,ce.X,ce.u,ce.gb,ce.B,ce.O,ce.t,ce.r,ce.N,ce.s,ce.q,ce.G,ce.jb,ce.C,ce.m,ce.P,ce.U,ce.kb,ce.n,ce.E,ce.V,ce.bb,ce.v,ce.z,ce.Q,ce.K,ce.x,ce.ib,ce.w,ce.H,ce.W,ce.D,ce.A,ce.l,ce.R,ce.f,ce.g,ce.e,ce.d,ce.k,ce.h,ce.j,ce.i,ce.db,ce.Z,ce.L);var ie=function(e){var t=Object(s.useState)(""),a=Object(h.a)(t,2),c=a[0],i=a[1],o=Object(s.useState)([]),j=Object(h.a)(o,2),b=j[0],p=j[1],m=Object(s.useState)([]),x=Object(h.a)(m,2),f=x[0],O=x[1],v=Object(s.useState)([]),N=Object(h.a)(v,2),w=N[0],y=N[1];return r.a.useEffect((function(){function e(){return(e=Object(d.a)(l.a.mark((function e(){var t;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,H();case 2:t=e.sent,p(t);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[]),r.a.useEffect((function(){function e(){return(e=Object(d.a)(l.a.mark((function e(){var t;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,M();case 2:(t=e.sent).splice(60),t.reverse(),y(t);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[]),r.a.useEffect((function(){function e(){return(e=Object(d.a)(l.a.mark((function e(){var t;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,T();case 2:t=e.sent,O(t);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[]),Object(n.jsxs)("div",{id:"app-container",children:[Object(n.jsxs)("div",{className:"nav-bar",children:[Object(n.jsx)(ee,{}),Object(n.jsx)(Y,{})]}),Object(n.jsx)("div",{className:"body-container",children:Object(n.jsxs)(u.c,{children:[Object(n.jsx)(u.a,{exact:!0,path:"/",render:function(e){return Object(n.jsx)(J,{setSName:i,currentUSValues:b,currentStateValues:f,historicUSValues:w})}}),Object(n.jsx)(u.a,{exact:!0,path:"/state-page",render:function(e){return Object(n.jsx)(F,{sName:c})}}),Object(n.jsx)(u.a,{exact:!0,path:"/add-comments",component:g}),Object(n.jsx)(u.a,{exact:!0,path:"/user-profile",component:ae})]})})]})},oe=function(e){e&&e instanceof Function&&a.e(7).then(a.bind(null,415)).then((function(t){var a=t.getCLS,n=t.getFID,s=t.getFCP,r=t.getLCP,c=t.getTTFB;a(e),n(e),s(e),r(e),c(e)}))};i.a.render(Object(n.jsx)(r.a.StrictMode,{children:Object(n.jsx)(B.a,{basename:"/",children:Object(n.jsx)(ie,{})})}),document.getElementById("root")),oe()}},[[207,1,3]]]);
//# sourceMappingURL=main.19237b3c.chunk.js.map