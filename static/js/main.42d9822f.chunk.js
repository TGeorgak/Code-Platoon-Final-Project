(this["webpackJsonpcovid-app"]=this["webpackJsonpcovid-app"]||[]).push([[0],{137:function(e,t,a){},138:function(e,t,a){},139:function(e,t,a){},140:function(e,t,a){},142:function(e,t,a){},147:function(e,t,a){},148:function(e,t,a){"use strict";a.r(t);var n=a(15),i=a(19),s=a.n(i),r=a(124),c=a.n(r),l=(a(137),a(30)),o=a.n(l),u=a(57),d=a(122),v=a(34);a(138),a(139);var h=function(e){var t=e.sName;return Object(n.jsxs)("div",{id:"StatePage-container",children:[Object(n.jsx)("div",{className:"a-api_feed_title",children:"PUBLIC COMMENT"}),Object(n.jsx)("div",{className:"a-api_feed_container"}),Object(n.jsx)("div",{className:"a-state_name_container",children:Object(n.jsx)("h2",{children:t})}),Object(n.jsx)("div",{className:"a-state_info_container"})]})},j=(a(140),a(79)),b=a(97),p=a(126),m=a(128);a(142);var g=function(e){var t=Object(v.f)();return Object(i.useEffect)((function(){j.d(m.a);var a=j.b("chartdiv",b.b);a.geodata=p.a,a.projection=new b.d.AlbersUsa;var n=a.series.push(new b.c);n.heatRules.push({property:"fill",target:n.mapPolygons.template,min:a.colors.getIndex(8).brighten(3),max:a.colors.getIndex(8).brighten(-.3)}),n.useGeodata=!0,n.data=[{id:"US-AL",value:4447100},{id:"US-AK",value:626932},{id:"US-AZ",value:5130632},{id:"US-AR",value:2673400},{id:"US-CA",value:33871648},{id:"US-CO",value:4301261},{id:"US-CT",value:3405565},{id:"US-DE",value:783600},{id:"US-FL",value:15982378},{id:"US-GA",value:8186453},{id:"US-HI",value:1211537},{id:"US-ID",value:1293953},{id:"US-IL",value:12419293},{id:"US-IN",value:6080485},{id:"US-IA",value:2926324},{id:"US-KS",value:2688418},{id:"US-KY",value:4041769},{id:"US-LA",value:4468976},{id:"US-ME",value:1274923},{id:"US-MD",value:5296486},{id:"US-MA",value:6349097},{id:"US-MI",value:9938444},{id:"US-MN",value:4919479},{id:"US-MS",value:2844658},{id:"US-MO",value:5595211},{id:"US-MT",value:902195},{id:"US-NE",value:1711263},{id:"US-NV",value:1998257},{id:"US-NH",value:1235786},{id:"US-NJ",value:8414350},{id:"US-NM",value:1819046},{id:"US-NY",value:18976457},{id:"US-NC",value:8049313},{id:"US-ND",value:642200},{id:"US-OH",value:11353140},{id:"US-OK",value:3450654},{id:"US-OR",value:3421399},{id:"US-PA",value:12281054},{id:"US-RI",value:1048319},{id:"US-SC",value:4012012},{id:"US-SD",value:754844},{id:"US-TN",value:5689283},{id:"US-TX",value:20851820},{id:"US-UT",value:2233169},{id:"US-VT",value:608827},{id:"US-VA",value:7078515},{id:"US-WA",value:5894121},{id:"US-WV",value:1808344},{id:"US-WI",value:5363675},{id:"US-WY",value:493782}];var i=a.createChild(b.a);i.id="heatLegend",i.series=n,i.align="right",i.valign="bottom",i.width=j.c(35),i.marginRight=j.c(4),i.background.fill=j.a("#000"),i.background.fillOpacity=.05,i.padding(5,5,5,5),i.valueAxis.axisRanges.create().label.horizontalCenter="left",i.valueAxis.axisRanges.create().label.horizontalCenter="right",i.valueAxis.renderer.labels.template.adapter.add("text",(function(e){return""})),n.events.on("datavalidated",(function(e){var t=e.target.map.getKey("heatLegend"),a=t.series.dataItem.values.value.low,n=t.valueAxis.axisRanges.getIndex(0);n.value=a,n.label.text=""+t.numberFormatter.format(a);var i=t.series.dataItem.values.value.high,s=t.valueAxis.axisRanges.getIndex(1);s.value=i,s.label.text=""+t.numberFormatter.format(i)}));var s=n.mapPolygons.template;s.tooltipText="{name}: {value}",s.nonScalingStroke=!0,s.strokeWidth=.5,s.states.create("hover").properties.fill=j.a("#3c5bdc");s.events.on("hit",(function(a){var n;n=a.target.dataItem.dataContext.name,e.setSName(n),t.push("/state-page")}))}),[e,t]),Object(n.jsx)("div",{id:"chartdiv"})};var f=function(e){var t=e.setSName,a=e.chart,i=e.currentUSValues.map((function(e,t){return Object(n.jsxs)("div",{children:["Positive Cases: ",e.positive," Deaths: ",e.death]},t)})),s=e.currentUSValues.map((function(e,t){return Object(n.jsxs)("div",{children:["Last Updated: ",e.lastModified]},t)}));return Object(n.jsxs)("div",{id:"home-container",children:[Object(n.jsx)("div",{className:"b-label-title",children:"title"}),Object(n.jsx)("div",{className:"b-updated-lable",children:s}),Object(n.jsx)("div",{className:"b-tweet-label",children:"tweet"}),Object(n.jsx)("div",{className:"b-info-updater",children:i}),Object(n.jsx)("div",{className:"b-tweet-container",children:"tweet container"}),Object(n.jsx)("div",{className:"b-us-map",children:Object(n.jsx)(g,{map:a,setSName:t})})]})},O=(a(147),a(89));var S=function(e){return Object(n.jsxs)("div",{id:"nav-container",children:[Object(n.jsx)("div",{className:"sub-nav-title",children:"COVID APP"}),Object(n.jsx)("div",{className:"sub-nav-home-button",children:Object(n.jsx)(O.b,{to:"/",children:"HOME"})})]})},x=a(61),U=a(62),_=a(92),y=a(91);var N=function(e){var t=Object(n.jsxs)("div",{className:"nav-login-signup",children:[Object(n.jsx)("div",{className:"sub-nav-login-button",onClick:function(){return e.display_form("login")},children:"Login"}),Object(n.jsx)("div",{className:"sub-nav-signup-button",onClick:function(){return e.display_form("signup")},children:"Signup"})]}),a=Object(n.jsx)("ul",{children:Object(n.jsx)("li",{onClick:e.handle_logout,children:"logout"})});return Object(n.jsx)("div",{children:e.logged_in?a:t})},w=a(116),C=function(e){Object(_.a)(a,e);var t=Object(y.a)(a);function a(){var e;Object(x.a)(this,a);for(var n=arguments.length,i=new Array(n),s=0;s<n;s++)i[s]=arguments[s];return(e=t.call.apply(t,[this].concat(i))).state={username:"",password:""},e.handle_change=function(t){var a=t.target.name,n=t.target.value;e.setState((function(e){var t=Object(w.a)({},e);return t[a]=n,t}))},e}return Object(U.a)(a,[{key:"render",value:function(){var e=this;return Object(n.jsxs)("form",{onSubmit:function(t){return e.props.handle_login(t,e.state)},children:[Object(n.jsx)("h4",{children:"Log In"}),Object(n.jsx)("label",{htmlFor:"username",children:"Username"}),Object(n.jsx)("input",{type:"text",name:"username",value:this.state.username,onChange:this.handle_change}),Object(n.jsx)("label",{htmlFor:"password",children:"Password"}),Object(n.jsx)("input",{type:"password",name:"password",value:this.state.password,onChange:this.handle_change}),Object(n.jsx)("input",{type:"submit"})]})}}]),a}(s.a.Component),k=function(e){Object(_.a)(a,e);var t=Object(y.a)(a);function a(){var e;Object(x.a)(this,a);for(var n=arguments.length,i=new Array(n),s=0;s<n;s++)i[s]=arguments[s];return(e=t.call.apply(t,[this].concat(i))).state={username:"",password:""},e.handle_change=function(t){var a=t.target.name,n=t.target.value;e.setState((function(e){var t=Object(w.a)({},e);return t[a]=n,t}))},e}return Object(U.a)(a,[{key:"render",value:function(){var e=this;return console.log("sign up form is called"),Object(n.jsxs)("form",{onSubmit:function(t){return e.props.handle_signup(t,e.state)},children:[Object(n.jsx)("h4",{children:"Sign Up"}),Object(n.jsx)("label",{htmlFor:"username",children:"Username"}),Object(n.jsx)("input",{type:"text",name:"username",value:this.state.username,onChange:this.handle_change}),Object(n.jsx)("label",{htmlFor:"password",children:"Password"}),Object(n.jsx)("input",{type:"password",name:"password",value:this.state.password,onChange:this.handle_change}),Object(n.jsx)("input",{type:"submit"})]})}}]),a}(s.a.Component),I="http://localhost:8000/",A=function(e){Object(_.a)(a,e);var t=Object(y.a)(a);function a(e){var n;return Object(x.a)(this,a),(n=t.call(this,e)).handle_login=function(e,t){e.preventDefault(),fetch("".concat(I,"token-auth/"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)}).then((function(e){return e.json()})).then((function(e){localStorage.setItem("token",e.token),n.setState({logged_in:!0,displayed_form:"",username:e.user.username})}))},n.handle_signup=function(e,t){e.preventDefault(),fetch("".concat(I,"covid/users/"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)}).then((function(e){return e.json()})).then((function(e){localStorage.setItem("token",e.token),n.setState({logged_in:!0,displayed_form:"",username:e.username})}))},n.handle_logout=function(){localStorage.removeItem("token"),n.setState({logged_in:!1,username:""})},n.display_form=function(e){n.setState({displayed_form:e})},n.state={displayed_form:"",logged_in:!!localStorage.getItem("token"),username:""},n}return Object(U.a)(a,[{key:"componentDidMount",value:function(){var e=this;this.state.logged_in&&fetch("".concat(I,"/covid/current_user/"),{headers:{Authorization:"JWT ".concat(localStorage.getItem("token"))}}).then((function(e){return e.json()})).then((function(t){e.setState({username:t.username})}))}},{key:"render",value:function(){var e;switch(this.state.displayed_form){case"login":e=Object(n.jsx)(C,{handle_login:this.handle_login});break;case"signup":e=Object(n.jsx)(k,{handle_signup:this.handle_signup});break;default:e=null}return Object(n.jsxs)("div",{children:[Object(n.jsx)(N,{logged_in:this.state.logged_in,display_form:this.display_form,handle_logout:this.handle_logout}),e,Object(n.jsx)("h3",{children:this.state.logged_in?"Hello, ".concat(this.state.username):""})]})}}]),a}(s.a.Component),M="https://api.covidtracking.com",T=function(){var e=Object(u.a)(o.a.mark((function e(){var t,a;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("".concat(M).concat("/v1/us/current.json"));case 3:return t=e.sent,e.next=6,t.json();case 6:return a=e.sent,e.abrupt("return",a);case 10:e.prev=10,e.t0=e.catch(0),console.log(e.t0);case 13:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(){return e.apply(this,arguments)}}();var P=function(e){var t=Object(i.useState)(""),a=Object(d.a)(t,2),r=a[0],c=a[1],l=Object(i.useState)([]),j=Object(d.a)(l,2),b=j[0],p=j[1];return s.a.useEffect((function(){function e(){return(e=Object(u.a)(o.a.mark((function e(){var t;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,T();case 2:t=e.sent,p(t);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[]),Object(n.jsxs)("div",{id:"app-container",children:[Object(n.jsxs)("div",{className:"nav-bar",children:[Object(n.jsx)(A,{}),Object(n.jsx)(S,{})]}),Object(n.jsx)("div",{className:"body-container",children:Object(n.jsxs)(v.c,{children:[Object(n.jsx)(v.a,{exact:!0,path:"/",render:function(e){return Object(n.jsx)(f,{setSName:c,currentUSValues:b})}}),Object(n.jsx)(v.a,{exact:!0,path:"/state-page",render:function(e){return Object(n.jsx)(h,{sName:r})}})]})})]})},L=function(e){e&&e instanceof Function&&a.e(7).then(a.bind(null,354)).then((function(t){var a=t.getCLS,n=t.getFID,i=t.getFCP,s=t.getLCP,r=t.getTTFB;a(e),n(e),i(e),s(e),r(e)}))};c.a.render(Object(n.jsx)(s.a.StrictMode,{children:Object(n.jsx)(O.a,{basename:"/",children:Object(n.jsx)(P,{})})}),document.getElementById("root")),L()}},[[148,1,4]]]);
//# sourceMappingURL=main.42d9822f.chunk.js.map